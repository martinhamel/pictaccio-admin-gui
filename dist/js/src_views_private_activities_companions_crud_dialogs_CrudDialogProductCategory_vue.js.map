{"version":3,"file":"js/src_views_private_activities_companions_crud_dialogs_CrudDialogProductCategory_vue.js","mappings":"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","sources":["webpack://@pictaccio/admin-gui/./src/views/private/activities/companions/crud_dialogs/CrudDialogProductCategory.vue","webpack://@pictaccio/admin-gui/./src/views/private/activities/companions/crud_dialogs/CrudDialogProductCategory.vue?41f7","webpack://@pictaccio/admin-gui/./src/utils/datatable_column_renderers/locales_data.ts","webpack://@pictaccio/admin-gui/./src/views/private/activities/companions/crud_dialogs/CrudDialogProductCategory.vue?a29a","webpack://@pictaccio/admin-gui/./src/views/private/activities/companions/crud_dialogs/CrudDialogProductCategory.vue?278b","webpack://@pictaccio/admin-gui/./src/views/private/activities/companions/crud_dialogs/CrudDialogProductCategory.vue?ab72","webpack://@pictaccio/admin-gui/./src/views/private/activities/companions/data_table_columns/product_categories_columns.ts"],"sourcesContent":["<style lang=\"scss\" scoped>\n</style>\n<template>\n    <crud-dialog ref=\"crud-dialog\"\n                 permission=\"product\"\n                 :allowArchiveDelete=\"archiveFeature\"\n                 @close=\"dialogClose\"\n                 @confirm=\"confirmClick\"\n                 @delete=\"deleteClick\">\n        <template v-for=\"field in columns.headers.filter(header => !header['tableOnly'])\"\n                  :key=\"field\"\n                  #[field.name]>\n            <slot :name=\"field.name\"></slot>\n        </template>\n    </crud-dialog>\n</template>\n<script lang=\"ts\">\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\nimport { DataSource, DataSourceOption } from '@pictaccio/admin-gui/core/types/data_source';\nimport { DataSourceEventListeners } from '@pictaccio/admin-gui/core/types/data_source_event_listeners';\nimport { GenericDataSource } from '@pictaccio/admin-gui/datasources/generic_data_source';\nimport { environment } from '@pictaccio/admin-gui/environment';\nimport { DbProductCategory } from '@pictaccio/admin-gui/models/db_product_category';\nimport { globalPrompt } from '@pictaccio/admin-gui/utils/global_prompt';\nimport { globalToast } from '@pictaccio/admin-gui/utils/global_toast';\nimport ActivityCrudDialog\n    from '@pictaccio/admin-gui/views/private/activities/companions/crud_dialogs/activity_crud_dialog';\nimport CrudDialog from '@pictaccio/admin-gui/views/private/activities/companions/CrudDialog.vue';\nimport {\n    PRODUCT_CATEGORIES_COLUMNS\n} from '@pictaccio/admin-gui/views/private/activities/companions/data_table_columns/product_categories_columns';\nimport { LocalizedString } from '@pictaccio/shared/types/localized_string';\nimport { validateInternalNameCharacters } from '@pictaccio/shared/utils/internal_name_constraint';\nimport { Component } from 'vue-facing-decorator';\n\n@Component({\n    name: 'Crud dialog product category',\n    components: {\n        FontAwesomeIcon,\n        CrudDialog\n    },\n    emits: [\n        'update'\n    ],\n    expose: [\n        'deleteClick',\n        'getFields',\n        'openDialog',\n        'refreshField',\n        'updateCrud'\n    ]\n})\nexport default class CrudDialogProductCategory extends ActivityCrudDialog<DbProductCategory> {\n    private columns = PRODUCT_CATEGORIES_COLUMNS;\n    private crudDialog: CrudDialog<DbProductCategory>;\n\n    // Feature flags\n    private archiveFeature = environment.features.archiveDeleteProductCategory;\n\n    public async deleteClick(id?: number, row?: DbProductCategory): Promise<void> {\n        if (!this.archiveFeature) {\n            return;\n        }\n\n        if (this.$validateCapability('product:delete') &&\n            await globalPrompt({\n                buttonType: 'yes-no',\n                icon: ['', ''],\n                message: this.$t('generic.prompt.destructive', {\n                    item: row.name_locale[this.$i18n.locale]\n                }),\n                title: `${this.$t('generic.ui.delete')} ${this.$t('activities.productCategories.single')}`\n            }) === 'yes') {\n            try {\n                await this.$store.dispatch('ProductCategories/delete', {\n                    filters: [[{\n                        column: 'id',\n                        operand: (id ?? this.editId).toString(),\n                        operator: '=='\n                    }]]\n                });\n                this.$emit('update');\n            } catch (error) {\n                globalToast(this.$t('messages.deleteError'), 'error');\n            }\n        }\n    }\n\n    public getFields(): any {\n        return this.crudDialog.getFields();\n    }\n\n    public openDialog(rowId?: number, row?: DbProductCategory): void {\n        this.crudDialogStatus = rowId ? 'update' : 'create';\n        this.editId = rowId;\n        this.rowSelected = row;\n        this.crudDialog.setCrudDialogStatus(this.crudDialogStatus);\n        this.crudDialog.openDialog();\n        this.$nextTick(() => {\n            this.updateCrud(rowId, row);\n        });\n    }\n\n    public refreshField(fieldRef: string, dataSource: DataSource<DbProductCategory, any, any, any>) {\n        (this.$refs['crud-dialog'] as CrudDialog<DbProductCategory>).refreshField(fieldRef, dataSource);\n    }\n\n    public async updateCrud(rowId?: number, row?: DbProductCategory): Promise<void> {\n        const options = [{\n            id: 'required',\n            value: true\n        }];\n        const internalNameOptions = [\n            {\n                id: 'eventListeners',\n                value: {\n                    blur: event => this.internalNameBlur(event)\n                }\n            }, ...options\n        ];\n\n        this.crudDialog.setRowSelected(row ?? null);\n        this.crudDialog.update({\n            priority: GenericDataSource.from<\n                DbProductCategory,\n                number,\n                never,\n                never\n            >(rowId ? row['priority'] : null, 'priority'),\n            internal_name: GenericDataSource.from<\n                DbProductCategory,\n                string,\n                string,\n                boolean | DataSourceEventListeners\n            >(rowId ? row['internal_name'] : null, 'internal_name', internalNameOptions),\n            name_locale: GenericDataSource.from<\n                DbProductCategory,\n                LocalizedString,\n                string,\n                boolean\n            >(rowId ? row['name_locale'] : null, 'name_locale', options)\n        });\n    }\n\n    /* LIFECYCLE */\n    public async mounted(): Promise<void> {\n        super.mounted('ProductCategories');\n        this.crudDialog = (this.$refs['crud-dialog'] as CrudDialog<DbProductCategory>);\n        this.crudDialog.setActivity('productCategories');\n        this.crudDialog.setColumns(this.columns);\n    }\n\n    /* EVENT HANDLER */\n    private async confirmClick(): Promise<void> {\n        const form = this.crudDialog;\n        const formValues = form.getFields();\n        const nameLocale = Object.fromEntries(this.$store.getters['StoreConfig/languagesList'].map(i => [\n            i.locale,\n            formValues['name_locale_' + i.locale]\n        ]));\n        const values: DbProductCategory = {\n            internal_name: formValues['internal_name'],\n            priority: typeof formValues['priority'] === 'number'\n                ? formValues['priority']\n                : 0,\n            name_locale: nameLocale\n        };\n\n        if (await this.internalNameValidation(values.internal_name)) {\n            return;\n        }\n\n        let result;\n\n        if (this.crudDialogStatus === 'create') {\n            try {\n                result = await this.$store.dispatch('ProductCategories/add', { item: values });\n\n                if (result.createdId !== null) {\n                    this.dialogClose();\n                }\n            } catch (error) {\n                globalToast(this.$t('messages.createError'), 'error');\n            }\n        } else {\n            try {\n                result = await this.$store.dispatch('ProductCategories/update', {\n                    filters: [[{\n                        column: 'id',\n                        operator: '==',\n                        operand: this.editId\n                    }]],\n                    values\n                });\n\n                await this.$store.dispatch('CrudOverlay/removeDirty', { force: true });\n                this.dialogClose();\n            } catch (error) {\n                globalToast(this.$t('messages.saveError'), 'error');\n            }\n        }\n\n        await this.$store.dispatch('ProductCategoriesReader/productCategoriesRead', true);\n        this.$emit('update', { id: this.editId ?? result?.createdId });\n    }\n\n    private dialogClose(): void {\n        this.crudDialog.closeDialog();\n        this.crudDialogStatus = 'read';\n        this.editId = null;\n        this.rowSelected = null;\n    }\n\n    /* PRIVATE */\n}\n</script>\n","import { renderSlot as _renderSlot, resolveComponent as _resolveComponent, withCtx as _withCtx, renderList as _renderList, createSlots as _createSlots, openBlock as _openBlock, createBlock as _createBlock } from \"vue\"\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_crud_dialog = _resolveComponent(\"crud-dialog\")!\n\n  return (_openBlock(), _createBlock(_component_crud_dialog, {\n    ref: \"crud-dialog\",\n    permission: \"product\",\n    allowArchiveDelete: _ctx.archiveFeature,\n    onClose: _ctx.dialogClose,\n    onConfirm: _ctx.confirmClick,\n    onDelete: _ctx.deleteClick\n  }, _createSlots({ _: 2 /* DYNAMIC */ }, [\n    _renderList(_ctx.columns.headers.filter(header => !header['tableOnly']), (field) => {\n      return {\n        name: field.name,\n        fn: _withCtx(() => [\n          _renderSlot(_ctx.$slots, field.name)\n        ])\n      }\n    })\n  ]), 1032 /* PROPS, DYNAMIC_SLOTS */, [\"allowArchiveDelete\", \"onClose\", \"onConfirm\", \"onDelete\"]))\n}","import { LocalizedString } from '@pictaccio/admin-gui/core/types/localized_string';\nimport { isEmpty } from '@loufa/loufairy';\n\n/**\n * Will display all locales at the same time\n * @param value is an object: {locale1: 'value', ...}\n */\nexport function localesData(value: LocalizedString): string {\n    if (isEmpty(value)) {\n        return '';\n    }\n    return Object.entries(value).map(([locale, value]) =>\n        `<div style=\"display: grid; grid-template-columns: 4ch 1fr;\">\n            <b>${locale}: </b><span>${value}</span>\n        </div>`\n    ).join('');\n}\n","import { render } from \"./CrudDialogProductCategory.vue?vue&type=template&id=75c45224&ts=true\"\nimport script from \"./CrudDialogProductCategory.vue?vue&type=script&lang=ts\"\nexport * from \"./CrudDialogProductCategory.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"../../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__file',\"src/views/private/activities/companions/crud_dialogs/CrudDialogProductCategory.vue\"]])\n/* hot reload */\nif (module.hot) {\n  __exports__.__hmrId = \"75c45224\"\n  const api = __VUE_HMR_RUNTIME__\n  module.hot.accept()\n  if (!api.createRecord('75c45224', __exports__)) {\n    api.reload('75c45224', __exports__)\n  }\n  \n  module.hot.accept(\"./CrudDialogProductCategory.vue?vue&type=template&id=75c45224&ts=true\", () => {\n    api.rerender('75c45224', render)\n  })\n\n}\n\n\nexport default __exports__","export { default } from \"-!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[1]!../../../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./CrudDialogProductCategory.vue?vue&type=script&lang=ts\"; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[1]!../../../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./CrudDialogProductCategory.vue?vue&type=script&lang=ts\"","export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??clonedRuleSet-41.use[1]!../../../../../../node_modules/vue-loader/dist/templateLoader.js??ruleSet[1].rules[4]!../../../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./CrudDialogProductCategory.vue?vue&type=template&id=75c45224&ts=true\"","import { localesData } from '@pictaccio/admin-gui/utils/datatable_column_renderers/locales_data';\n\nexport const PRODUCT_CATEGORIES_COLUMNS = {\n    headers: [\n        {\n            name: 'id',\n            componentName: 'Id',\n            locale: 'dataTable.headers.id',\n            size: '6rem',\n            tableOnly: true,\n            order: 0\n        },\n        {\n            name: 'priority',\n            componentName: 'NumberGeneric',\n            help: 'productCategoriesPriorityHelp',\n            locale: 'dataTable.headers.priority',\n            size: 'minmax(6rem, 1fr)',\n            order: 3\n        },\n        {\n            name: 'internal_name',\n            componentName: 'TextGeneric',\n            help: 'internalNameHelp',\n            locale: 'dataTable.headers.internalName.productCategories',\n            size: 'minmax(10rem, 2fr)',\n            order: 2\n        },\n        {\n            name: 'name_locale',\n            componentName: 'TextLocalizedShort',\n            locale: 'dataTable.headers.nameLocale',\n            size: 'minmax(10rem, 2fr)',\n            help: 'productCategoriesNamesHelp',\n            allowLocaleSorting: true,\n            renderer: value => localesData(value),\n            order: 1\n        }\n    ],\n    visibleHeaders: [\n        'id',\n        'priority',\n        'internal_name',\n        'name_locale'\n    ],\n    rows: []\n}\n"],"names":["FontAwesomeIcon","GenericDataSource","environment","globalPrompt","globalToast","ActivityCrudDialog","CrudDialog","PRODUCT_CATEGORIES_COLUMNS","Component","CrudDialogProductCategory","constructor","args","_defineProperty","features","archiveDeleteProductCategory","deleteClick","id","row","archiveFeature","$validateCapability","buttonType","icon","message","$t","item","name_locale","$i18n","locale","title","$store","dispatch","filters","column","operand","editId","toString","operator","$emit","error","getFields","crudDialog","openDialog","rowId","crudDialogStatus","rowSelected","setCrudDialogStatus","$nextTick","updateCrud","refreshField","fieldRef","dataSource","$refs","options","value","internalNameOptions","blur","event","internalNameBlur","setRowSelected","update","priority","from","internal_name","mounted","setActivity","setColumns","columns","confirmClick","form","formValues","nameLocale","Object","fromEntries","getters","map","i","values","internalNameValidation","result","createdId","dialogClose","force","closeDialog","__decorate","name","components","emits","expose","renderSlot","_renderSlot","resolveComponent","_resolveComponent","withCtx","_withCtx","renderList","_renderList","createSlots","_createSlots","openBlock","_openBlock","createBlock","_createBlock","render","_ctx","_cache","$props","$setup","$data","$options","_component_crud_dialog","ref","permission","allowArchiveDelete","onClose","onConfirm","onDelete","_","headers","filter","header","field","fn","$slots","isEmpty","localesData","entries","join","componentName","size","tableOnly","order","help","allowLocaleSorting","renderer","visibleHeaders","rows"],"sourceRoot":""}